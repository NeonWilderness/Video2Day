!function(e){"use strict";e.fn.video2day=function(){var t=this,a={version:"0.5",defaults:{addFlexVideoClass:!1,position:"bottom"},vidFrame:'<iframe width="{w}" height="{h}" src={p} frameborder="0" allowfullscreen></iframe>',vidParam:{youtube:'"//www.youtube.com/embed/{v}"',vimeo:'"//player.vimeo.com/video/{v}"',vevo:'"http://cache.vevo.com/assets/html/embed.html?video={v}&autoplay=0"',bliptv:'"http://blip.tv/play/{v}?p=1"',dailymotion:'"//www.dailymotion.com/embed/video/{v}"',putpat:'"http://www.putpat.tv/iframe/videos/{v}"',vube:'"http://vube.com/embed/video/{v}?autoplay=false&fit=true"',liveleak:'"http://www.liveleak.com/ll_embed?f={v}"',vine:'"https://vine.co/v/{v}/embed/postcard"',metacafe:'"http://www.metacafe.com/embed/{v}/"'},errmsg:function(e){return'<p class="message">'+e+"</p>"},init:function(i){var s,r,o,d,l,v,n,p,c,h=e.extend({},a.defaults,i||{}),m=Object.keys(a.vidParam).concat("other");return t.each(function(){s=e(this),r="",o=s.parents().width(),v=16/9,n="",p=!1,c="jpg";var t=s.attr("class").toLowerCase().split(/\s+/);if(e.each(t,function(){switch(this.substr(0,6)){case"width-":o=parseInt(this.substr(6,this.length-6),10);break;case"ratio-":v=parseFloat(this.substr(6,this.length-6));break;case"poster":p=!0;break;case"image-":c=this.substr(6,this.length-6);break;default:m.indexOf(this)>=0&&(n=this)}}),d=Math.round(o/v),l=s.attr("id")||"",0===l.length)r=a.errmsg('Bitte die Video-ID bzw. -URL im Parameter "id" ergänzen!');else if(0===n.length)r=a.errmsg("Bitte "+m.join(", ")+' im class-Parameter "'+s.attr("class")+'" ergänzen!');else if("other"===n){var i=p?' poster="'+l.substr(0,l.lastIndexOf(".")+1)+c+'"':"";r='<video class="video-js vjs-default-skin" controls preload="auto" width="'+o+'" height="'+d+'" data-setup="{}"'+i+'><source src="'+l+'" type="video/mp4"></video>'}else r=a.vidFrame.replace(/{w}/gi,o).replace(/{h}/gi,d).replace(/{p}/gi,a.vidParam[n].replace(/{v}/gi,l));h.addFlexVideoClass&&s.addClass("flex-video"),"top"===h.position.toLowerCase()?s.prepend(r):s.append(r)}),t}};return{init:a.init}}}(jQuery);