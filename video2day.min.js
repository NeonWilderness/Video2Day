!function(e){"use strict";e.fn.video2day=function(){var t=this,a={version:"1.1",defaults:{addFlexVideoClass:!1,position:"bottom"},vidFrame:'<iframe width="{w}" height="{h}" src={p} frameborder="0" allowfullscreen></iframe>',vidParam:{youtube:'"//www.youtube.com/embed/{v}?start={starttime}&end={endtime}"',vimeo:'"//player.vimeo.com/video/{v}"',vevo:'"http://cache.vevo.com/assets/html/embed.html?video={v}&autoplay=0"',giphy:'"//giphy.com/embed/{v}"',jsfiddle:'"//jsfiddle.net/{v}/embedded/{scope}/{color}/"',dailymotion:'"//www.dailymotion.com/embed/video/{v}"',funnyordie:'"http://www.funnyordie.com/embed/{v}"',liveleak:'"http://www.liveleak.com/ll_embed?f={v}"',vine:'"https://vine.co/v/{v}/embed/simple"',metacafe:'"http://www.metacafe.com/embed/{v}/"',myvideo:'"http://www.myvideo.de/embed/{v}"',soundcloud:'"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{v}&amp;auto_play=false&amp;hide_related=true&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual={visual}"'},errmsg:function(e){return'<p class="message">'+e+"</p>"},init:function(s){var r,i,o,d,c,l,n,m,p,u,v,h,w,b,f,g,y,k=e.extend({},a.defaults,s||{}),j=Object.keys(a.vidParam).concat("other");return t.each(function(){r=e(this),i="",o="",d=r.parents(".storyContent").width()||0,c=r.parents().width(),0!==d&&c>d&&(c=d),m=16/9,p="",u=!1,v="jpg",h="js,html,css,result",w="dark",f="",g="",y=!0;var t=r.attr("class").toLowerCase().split(/\s+/);if(e.each(t,function(){switch(b=this.substr(6,this.length-6),this.substr(0,6)){case"width-":c=parseInt(b);break;case"ratio-":m=parseFloat(b);break;case"poster":u=!0;break;case"image-":v=b;break;case"scope-":h=b;break;case"color-":w=b;break;case"start-":f=parseInt(b).toString();break;case"endat-":g=parseInt(b).toString();break;case"stripe":y=!1;break;default:j.indexOf(this)>=0&&(p=this)}}),l=Math.round(c/m),n=r.attr("id")||"",0===n.length)i=a.errmsg('Bitte die Video-ID bzw. -URL im Parameter "id" ergänzen!');else if(0===p.length)i=a.errmsg("Bitte "+j.join(", ")+' im class-Parameter "'+r.attr("class")+'" ergänzen!');else if("other"===p){var s=u?' poster="'+n.substr(0,n.lastIndexOf(".")+1)+v+'"':"";i='<video class="video-js vjs-default-skin" controls preload="auto" width="'+c+'" height="'+l+'" data-setup="{}"'+s+'><source src="'+n+'" type="video/mp4"></video>'}else{switch(o=a.vidParam[p].replace(/{v}/gi,n),p){case"jsfiddle":o=o.replace(/{scope}/,h).replace(/{color}/,w);break;case"soundcloud":o=o.replace(/{visual}/,y),l=150+300*Math.abs(y);break;case"youtube":o=o.replace(/{starttime}/,f).replace(/{endtime}/,g)}i=a.vidFrame.replace(/{w}/g,c).replace(/{h}/g,l).replace(/{p}/g,o)}k.addFlexVideoClass&&r.addClass("flex-video"),"top"===k.position.toLowerCase()?r.prepend(i):r.append(i)}),t}};return{init:a.init}}}(jQuery);